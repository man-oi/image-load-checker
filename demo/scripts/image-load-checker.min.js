"use strict";var imagesloaded=function(t){this.imageElements=null,this.loadedImages=0,this.errorImages=0,this.timeoutFunctions=[],this.defaults={imageSelector:"img",timeoutTime:6e4,imageLoaded:function(t){t.classList.add("loaded")},imageError:function(t){t.classList.add("error")},imageTimeout:function(t){}},this.options={},this.init=function(){void 0===t&&(t={}),this.options=this.extend(this.options,this.defaults,t),this.imageElements=document.querySelectorAll(this.options.imageSelector),this.bindEvents()},this.bindEvents=function(){for(var t=document.createEvent("HTMLEvents"),e=0;e<this.imageElements.length;e++)this.imageElements[e].addEventListener("load",this.loaded.bind(this)),this.imageElements[e].addEventListener("error",this.error.bind(this)),this.timeoutFunctions[e]=window.setTimeout(function(t){this.timeout(this.imageElements[t])},this.options.timeoutTime,e),this.imageElements[e].complete&&(0===this.imageElements[e].naturalWidth?t.initEvent("error",!0,!0):t.initEvent("load",!0,!0),this.imageElements[e].dispatchEvent(t))},this.loaded=function(t){var e=t.target,i=Array.prototype.slice.call(this.imageElements).indexOf(e);window.clearTimeout(this.timeoutFunctions[i]),e.removeEventListener("load",this.loaded),this.loadedImages++,this.options.imageLoaded(e),this.loadedImages+this.errorImages===this.imageElements.length&&(this.loadedImages===this.imageElements.length?this.allLoaded():this.notAllLoaded())},this.error=function(t){var e=t.target,i=Array.prototype.slice.call(this.imageElements).indexOf(e);window.clearTimeout(this.timeoutFunctions[i]),e.removeEventListener("error",this.error),this.errorImages++,this.options.imageError(e),this.loadedImages+this.errorImages===this.imageElements.length&&(this.errorImages===this.imageElements.length?this.allFails():this.notAllLoaded())},this.timeout=function(t){this.options.imageTimeout(t)},this.allFails=function(){},this.allLoaded=function(){},this.notAllLoaded=function(){},this.extend=function(t,e,i){for(var s in e)i[s]?t[s]=i[s]:t[s]=e[s];return t}};